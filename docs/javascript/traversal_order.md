---
title: JavaScript 中遍历顺序
tag:
  - javascript
description: 本文包含 JavaScript 中一些结构的遍历顺序，包含 Object Map 等
date: 2024-01-06
---

<!-- TODO: 这篇文章涉及到了 iterator, 所以需要验证真伪 -->

## `for ... in ...` 遍历一个对象

使用 `for ... in ...` 遍历一个对象时，遍历顺序有一定的规则，不是按照字典序来进行遍历，而是

1. 首先遍历所有的数字键，按照数字顺序升序遍历
1. 其次遍历所有的字符串键，按照加入时间顺序遍历
1. 最后遍历所有的 Symbol 键，按照加入时间顺序遍历

## `for ... of ...` 遍历一个对象

这里体现出来了 `for ... of ...` 和 `for ... in ...` 的区别，`for ... of ...` 只能遍历可迭代对象，而 `for ... in ...` 可以遍历对象的所有的可枚举属性 (包含原型链上的 key)

而随着可遍历对象的不同，遍历顺序也不同

### 数组

顺序为数字的索引顺序

### 字符串

顺序为字符串的索引顺序

### Map

顺序为 Map 中的插入顺序

### Set

顺序为 Set 中的插入顺序

### Object

这个才是真正地重量级，因为通过 Object 能够归纳上面所有的遍历顺序

首先是 `for ... of ...` 的原理，他是通过 `Symbol.iterator` 来进行遍历的，所以也就是说上面的遍历顺序都是通过 `Symbol.iterator` 来进行规定的

而我们自己创建的对象字面量，是没有 `Symbol.iterator` 的，所以默认无法遍历

## keys() values() entries() 方法

这三个方法不涉及 `Symbol.iterator`，所以会按照 `for ... in ...` 的规则来进行遍历
