---
title: 使用 Node.js 和 express 实现任务管理系统
tag:
  - essay
  - trainingCamp
date: 2024-03-10
---

## 需求分析和设计

### 项目目标

实现一个任务管理系统，能够实现用户的注册，登录，创建任务，查看任务，修改任务状态等功能。并且能够实现用户登录状态的保持。同时还需要保证任务数据的一致性和有效性。

### 用户角色

针对用户是一个大学生，一般需求如上所述，通过本项目能够管理自己的任务，排列优先级，改善拖延和做事犹豫的问题

### 用户故事

某个大学生由于平时没有课程，遂经常去图书馆自习，但是由于没有足够明确的目标，经常做一件事被打断，比如正在写某个项目代码时发现编辑器插件不好用，便去转头更新插件，导致浪费很多时间在上面，一天下来能够获得的知识非常碎片。

某天他知道了这个项目，*会使用自己的 email 来注册（同时输入一个用户名和密码）*，之后使用用户名和密码登录这个任务管理系统，*此时就可以看到属于自己的任务列表*

他在早上将想要完成的任务列出来，*加入到任务管理系统中*，系统会自动按照时间将任务分为两类，大任务（预计处理时间超过一个小时）和小任务（一小时之内），每次完成任务后，*将其勾选清除*，如果遇到任务超时或者任务有变的情况，*可以更改最新的信息*。如果用户退出了这个管理系统的前端，下次登录时应当避免再次输入密码，而是根据浏览器的 cookie 判断直接登录

## 后端开发

### 数据库设计

用户表

| 字段名       | 字段类型      | 描述     |
| --------- | --------- | ------ |
| username  | VARCHAR   | 用户名，主键 |
| email     | VARCHAR   | 注册邮箱   |
| create_at | TIMESTAMP | 创建时间   |
| password  | VARCHAR   | 密码     |

任务表

| 字段名       | 字段类型      | 描述       |
| --------- | --------- | -------- |
| id        | INT       | 主键，唯一标识  |
| username  | VARCHAR   | 用户 id，外键 |
| title     | VARCHAR   | 任务标题     |
| content   | TEXT      | 任务内容     |
| completed | INT       | 任务状态     |
| cost_time | INT       | 预计耗时     |
| create_at | TIMESTAMP | 创建时间     |

### 技术栈

- Node.js
- express
- MongoDB
- Vue3

### API 设计

用户相关接口

- POST /register：创建一个新的用户。
- POST /login：登录一个已存在的账户

任务相关接口

- POST /users/{username}/tasks：为指定 ID 的用户创建一个新的任务。
- GET /users/{username}/tasks：获取指定 ID 的用户的所有任务。
- PUT /users/{username}/tasks/{taskId}：更新指定 ID 的用户的指定 ID 的任务。
- DELETE /users/{username}/tasks/{taskId}：删除指定 ID 的用户的指定 ID 的任务。

## 前端开发
