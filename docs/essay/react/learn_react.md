---
title: React 中的哲学（尝试启发 Vue 使用方式）
tag:
  - react
  - essay
date: 2024-02-11
---

## 构建一个应用的过程

1. 首先思考数据流的格式，比如数据可能是从后端获取的 JSON ，我们要将其展示出来

1. 给出最简数据展示方式，通常是设计给出的绘制原型，通常 JSON 数据结构和绘制原型是一一对应的

1. 将界面展示拆分为多个组件，只包含静态数据即可，不需要考虑交互代码

1. 自下而上的实现每个静态组件，方便验证和调试

1. 确定哪些作为 state，哪些作为 props，原则如下

   - 如果数据随着时间推移不变，那么它就不是 state
   - 如果数据是由父组件传递下来的，那么它就不是 state
   - 如果数据可以通过组件内部的其他 state 或 props 计算得到，那么它就不是 state
   - 剩下的可能是 state

   ::: tip
   这里我联想到了 Vue 的响应式设计，他的响应式也可以这样判断

   - 如果数据随着时间推移不变，那么它就不是响应式
   - 如果数据是由父组件传递下来的，那么他就不需要响应式包裹
   - 这一步有点差别，如果可以通过其他的响应式数据得到，那么请使用计算属性即可（也许不需要 watch 来进行操作，因为我认为这个是用来执行副作用操作用的）
     :::

1. 确定 state 的位置，通常选取最近的公共祖先组件，如果没有，那么就创建一个新的组件来存放 state

1. 最后添加反向数据流，即事件处理函数，这些函数会修改 state，然后通过 props 传递给子组件

::: info
这里是不是可以想到 Vue 中的 v-model 语法糖呢
:::
